<ng-container *ngIf="control.type === 'select-extended' && visible">
  <mat-form-field
    appearance="outline"
    [ngClass]="frmControl.errors ? 'error' : ''"
    class="full-width"
  >
    <mat-label>{{ control.label }}</mat-label>
    <!-- <mat-select (blur)="onTouched()" [(ngModel)]="value" [disabled]="disabled"> -->
    <select
      matNativeControl
      (blur)="onTouched()"
      [(ngModel)]="localValue"
      [disabled]="disabled"
    >
      <option [value]="control.placeholder.value" *ngIf="control.placeholder">
        {{ control.placeholder.displayText }}
      </option>
      <option
        *ngFor="let option of source"
        [value]="control.valueProp ? option[control.valueProp] : option"
      >
        {{ control.displayProp ? option[control.displayProp] : option }}
      </option>
    </select>

    <mat-icon matSuffix *ngIf="control.icon">{{ control.icon }}</mat-icon>
    <mat-hint align="start" *ngIf="control.hint">{{ control.hint }}</mat-hint>
  </mat-form-field>

  <ng-container>
    <sp-error
      *ngIf="frmControl.errors"
      [validations]="control.validations || []"
      [errors]="frmControl.errors"
    ></sp-error>
    <!-- <div *ngIf="!frmControl.errors" style="visibility: hidden">*</div> -->
  </ng-container>
</ng-container>
