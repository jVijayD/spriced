<form
  [formGroup]="this.appFormData.form"
  *ngIf="this.appFormData && this.appFormData.form"
>
  <div
    class="@container"
    *ngFor="let grp of this.appFormData.appForm?.groups; let grpIndex = index"
  >
    <label class="grp-label" *ngIf="grp.title && grp.title !== ''">{{
      grp.title
    }}</label>

    <div class="items-container">
      <ng-container *ngFor="let ctrl of grp.formFieldControls">
        <ng-container *ngIf="ctrl.visible == null || ctrl.visible">
          <!--Remove if marked hidden-->
          <sp-input
            [ngClass]="{
              item: singleCol && ctrl.subType !== 'hidden',
              'item-popup': !singleCol && ctrl.subType !== 'hidden',
              'item-0': ctrl.subType === 'hidden'
            }"
            [control]="ctrl"
            [formControlName]="ctrl.name"
            *ngIf="ctrl.type === 'input'"
          >
          </sp-input>

          <sp-numeric
            [ngClass]="{ item: singleCol, 'item-popup': !singleCol }"
            [control]="ctrl"
            [formControlName]="ctrl.name"
            *ngIf="ctrl.type === 'numeric'"
          >
          </sp-numeric>

          <sp-select
            [ngClass]="{ item: singleCol, 'item-popup': !singleCol }"
            [control]="ctrl"
            [formControlName]="ctrl.name"
            *ngIf="ctrl.type === 'select'"
          >
          </sp-select>

          <sp-lookup-select
            [ngClass]="{ item: singleCol, 'item-popup': !singleCol }"
            [control]="ctrl"
            [formControlName]="ctrl.name"
            *ngIf="ctrl.type === 'lookup-select'"
          >
          </sp-lookup-select>

          <sp-select-extended
            [ngClass]="{ item: singleCol, 'item-popup': !singleCol }"
            [control]="ctrl"
            [formControlName]="ctrl.name"
            *ngIf="ctrl.type === 'select-extended'"
          >
          </sp-select-extended>

          <sp-date-picker
            [ngClass]="{ item: singleCol, 'item-popup': !singleCol }"
            [control]="ctrl"
            [formControlName]="ctrl.name"
            *ngIf="ctrl.type === 'date'"
          >
          </sp-date-picker>

          <sp-checkbox-group
            [ngClass]="{ item: singleCol, 'item-popup': !singleCol }"
            [control]="ctrl"
            [formControlName]="ctrl.name"
            *ngIf="ctrl.type === 'checkbox-group'"
          >
          </sp-checkbox-group>

          <sp-radio-group
            [ngClass]="{ item: singleCol, 'item-popup': !singleCol }"
            [control]="ctrl"
            [formControlName]="ctrl.name"
            *ngIf="ctrl.type === 'radio-group'"
          >
          </sp-radio-group>

          <sp-checkbox
            [ngClass]="{ item: singleCol, 'item-popup': !singleCol }"
            [control]="ctrl"
            [formControlName]="ctrl.name"
            *ngIf="ctrl.type === 'checkbox'"
          ></sp-checkbox>
        </ng-container>
      </ng-container>
    </div>
  </div>
</form>
