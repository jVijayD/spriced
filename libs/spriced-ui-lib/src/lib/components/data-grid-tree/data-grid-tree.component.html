<ng-container>
  <div
    class="w-full bg-primary-default h-10 rounded-t-md flex flex-row items-center justify-between pl-5 pr-5"
  >
    <span class="float-left text-white font-medium">{{ title }}</span>
    <div class="flex flex-row"><ng-content></ng-content></div>
  </div>
  <ngx-datatable
  style="height: calc( 100% - 50px); overflow-y: hidden" 
    #table
    class="material"
    [rows]="rows"
    [columnMode]="columnMode"
    [headerHeight]="headerHeight"
    [footerHeight]="footerHeight"
    [rowHeight]="rowHeight"
    [scrollbarV]="virtualScroll"
    [scrollbarH]="true"
    [selectionType]="selectionType"
    [offset]="offset"
    (page)="onPaginate($event)"
    [externalSorting]="isExternalSorting"
    [sortType]="sortType"
    [externalPaging]="isExternalPaging"
    [limit]="limit"
    [count]="count"
    (sort)="onSort($event)"
    (select)="onSelect($event)"
    [treeFromRelation]="'parentId'"
    [treeToRelation]="'id'"
    (treeAction)="onTreeAction($event)"
  >
    <ngx-datatable-column *ngIf="enableRowIndex" name="#">
      <ng-template
        let-rowIndex="rowIndex"
        let-row="row"
        ngx-datatable-cell-template
        >{{ rowIndex + 1 }}</ng-template
      ></ngx-datatable-column
    >

    <ngx-datatable-column
      *ngFor="let header of headers; let i = index"
      [name]="header.name"
      [isTreeColumn]="header.isTreeColumn"
      [width]="header.width || 0"

    >
      <ng-template let-row="row" ngx-datatable-cell-template>
        <span style="display: inline-flex" class="ml-5">
          <mat-icon *ngIf="header.isTreeColumn">{{ row.icon }}</mat-icon>
          <button (click)="viewEntity()">
          <span class="ml-2" 
                matTooltipClass="custom-tooltip"
                [matTooltipPosition]="'right'"
                [matTooltip]="(header?.showTooltip && header?.tooltipLevel === row?.level) ? header?.tooltipTemplate(row) : ''">
            {{
              isArray
                ? this.renderData(row[i], header)
                : this.renderData(row[header.column], header)
            }}</span
          ></button></span
        >
        <ng-container *ngIf="header?.action" >
          <button *ngIf="row.icon === 'table_chart'" (click)="viewEntity()">
            <mat-icon
              >visibility</mat-icon
            ></button>
          </ng-container>
      </ng-template></ngx-datatable-column>
 <!-- <ngx-datatable-column
      name="Action"
    >
      <ng-template let-row="row" ngx-datatable-cell-template>
        <button *ngIf="row.icon === 'table_chart'" (click)="viewEntity()">
          <mat-icon
            >visibility</mat-icon
          ></button>
      </ng-template>
      </ngx-datatable-column
    --> 
  </ngx-datatable>
</ng-container>
