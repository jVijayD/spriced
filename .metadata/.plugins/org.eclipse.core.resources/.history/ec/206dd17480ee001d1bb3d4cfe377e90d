package com.sim.spriced.framework.multitenancy.integration;

import static org.junit.jupiter.api.Assertions.assertNotNull;

import java.sql.SQLException;
import java.util.Properties;

import javax.sql.DataSource;

import org.jooq.DSLContext;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.context.annotation.Import;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.support.AnnotationConfigContextLoader;

import com.sim.spriced.framework.MultitenantTestConfiguration;
import com.sim.spriced.framework.multitenancy.DataSourceConfiguration;
import com.sim.spriced.framework.multitenancy.TenantDataSources;
import com.sim.spriced.framework.repo.RepoConfiguration;

@SpringBootTest()
@Import(Tenant2Configuration.class)
//@ContextConfiguration(classes= {TenantDataSources.class,DataSourceConfiguration.class,RepoConfiguration.class}, loader=AnnotationConfigContextLoader.class)
class Tenant2LoadingTest {
	
	
	
	@Autowired
	public DataSource dataSource;
	
	@Autowired
	public DSLContext dsl;
	
	
	@Test
	void dataSourceLoadTest() throws SQLException {
		//Properties prop = this.dataSource.getConnection();
		assertNotNull(dataSource);
	}
	
	@Test
	void dslContextTest() throws SQLException {
		assertNotNull(dsl);
	}

}
